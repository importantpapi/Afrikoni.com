/* ============================================================
   AFRIKONI 2026 TRADE OS DESIGN SYSTEM
   Premium Dark-First · Glassmorphism · Bloomberg-Grade Density
   ============================================================ */

/* Base layer content moved out of @layer for Tailwind compatibility */
:root {
  /* Core Brand Colors - Gold & Earth */
  --afrikoni-gold: 38 65% 50%;
  --afrikoni-gold-light: 38 70% 60%;
  --afrikoni-gold-dark: 38 60% 40%;
  --afrikoni-gold-glow: 38 80% 65%;
  --afrikoni-brown: 25 40% 15%;
  --afrikoni-brown-light: 25 35% 25%;
  --afrikoni-earth: 20 30% 12%;
  
  /* LIGHT MODE (Secondary) */
  --background: 30 10% 98%;
  --foreground: 25 30% 10%;
  
  --card: 0 0% 100%;
  --card-foreground: 25 30% 10%;
  
  --popover: 0 0% 100%;
  --popover-foreground: 25 30% 10%;

  --primary: 38 65% 50%;
  --primary-foreground: 25 40% 10%;

  --secondary: 30 15% 94%;
  --secondary-foreground: 25 30% 15%;

  --muted: 30 10% 96%;
  --muted-foreground: 25 15% 45%;

  --accent: 38 50% 95%;
  --accent-foreground: 38 65% 35%;

  --destructive: 0 72% 51%;
  --destructive-foreground: 0 0% 100%;

  --border: 30 15% 90%;
  --input: 30 15% 90%;
  --ring: 38 65% 50%;

  --radius: 0.625rem;

  /* Sidebar */
  --sidebar-background: 24 38% 11%;
  --sidebar-foreground: 38 20% 88%;
  --sidebar-primary: 38 65% 50%;
  --sidebar-primary-foreground: 25 40% 10%;
  --sidebar-accent: 24 34% 16%;
  --sidebar-accent-foreground: 38 20% 90%;
  --sidebar-border: 24 30% 18%;
  --sidebar-ring: 38 65% 50%;
  
  /* Semantic Status */
  --success: 142 71% 45%;
  --success-foreground: 0 0% 100%;
  --warning: 38 92% 50%;
  --warning-foreground: 25 40% 10%;
  --info: 199 89% 48%;
  --info-foreground: 0 0% 100%;
  
  /* Trade Status Colors */
  --status-verified: 142 71% 45%;
  --status-pending: 38 92% 50%;
  --status-inactive: 25 15% 55%;
  --status-rejected: 0 72% 51%;
  --status-in-progress: 199 89% 48%;
  
  /* Card Variants */
  --card-gold: 36 55% 96%;
  --card-green: 142 40% 96%;
  --card-blue: 199 50% 96%;
  --card-rose: 350 50% 97%;
  
  /* Premium Shadows */
  --shadow-sm: 0 1px 2px 0 hsl(25 30% 10% / 0.03);
  --shadow-md: 0 4px 6px -1px hsl(25 30% 10% / 0.05), 0 2px 4px -2px hsl(25 30% 10% / 0.03);
  --shadow-lg: 0 10px 15px -3px hsl(25 30% 10% / 0.06), 0 4px 6px -4px hsl(25 30% 10% / 0.04);
  --shadow-gold: 0 4px 14px -3px hsl(38 65% 50% / 0.25);
  --shadow-glow: 0 0 20px hsl(38 65% 50% / 0.15);

  /* Glass + glow tokens */
  --glass-bg: hsl(var(--card) / 0.7);
  --glass-border: hsl(var(--border));
  --glass-glow: 0 0 24px hsl(var(--primary) / 0.18);
  --glass-ambient: 0 20px 60px hsl(220 20% 10% / 0.25);
  --gradient-core: linear-gradient(90deg, hsl(var(--primary)) 0%, hsl(var(--afrikoni-gold-light)) 40%, hsl(var(--accent-foreground)) 100%);

  /* Trade OS semantic tokens */
  --os-bg: hsl(var(--background));
  --os-surface-0: hsl(var(--card) / 0.96);
  --os-surface-1: hsl(var(--card) / 0.9);
  --os-surface-2: hsl(var(--card) / 0.8);
  --os-stroke: hsl(var(--border));
  --os-text-primary: hsl(var(--foreground));
  --os-text-secondary: hsl(var(--muted-foreground));
  --os-muted: hsl(var(--muted-foreground));
  --os-accent: hsl(var(--primary));
  --os-glow: 0 0 28px hsl(var(--primary) / 0.18);
}

/* ============================================================
   DARK MODE (Primary - Bloomberg Terminal Aesthetic)
   ============================================================ */
.dark {
  /* Deep charcoal backgrounds */
  --background: 220 15% 6%;
  --foreground: 38 15% 92%;
  
  /* Glassmorphic cards */
  --card: 220 15% 10%;
  --card-foreground: 38 15% 92%;
  
  --popover: 220 15% 10%;
  --popover-foreground: 38 15% 92%;

  /* Gold primary - brighter for dark mode */
  --primary: 38 70% 55%;
  --primary-foreground: 220 15% 6%;

  --secondary: 220 12% 15%;
  --secondary-foreground: 38 15% 85%;

  --muted: 220 12% 12%;
  --muted-foreground: 220 10% 55%;

  --accent: 220 15% 18%;
  --accent-foreground: 38 70% 60%;

  --destructive: 0 65% 55%;
  --destructive-foreground: 0 0% 100%;

  --border: 220 12% 18%;
  --input: 220 12% 15%;
  --ring: 38 70% 55%;
  
  /* Dark sidebar */
  --sidebar-background: 220 18% 5%;
  --sidebar-foreground: 38 20% 85%;
  --sidebar-primary: 38 70% 55%;
  --sidebar-primary-foreground: 220 15% 6%;
  --sidebar-accent: 220 15% 12%;
  --sidebar-accent-foreground: 38 20% 92%;
  --sidebar-border: 220 12% 15%;
  --sidebar-ring: 38 70% 55%;
  
  /* Adjusted card variants for dark */
  --card-gold: 38 40% 12%;
  --card-green: 142 30% 12%;
  --card-blue: 199 35% 12%;
  --card-rose: 350 35% 12%;
  
  /* Dark mode shadows with glow */
  --shadow-sm: 0 1px 2px 0 hsl(0 0% 0% / 0.3);
  --shadow-md: 0 4px 6px -1px hsl(0 0% 0% / 0.4), 0 2px 4px -2px hsl(0 0% 0% / 0.3);
  --shadow-lg: 0 10px 15px -3px hsl(0 0% 0% / 0.5), 0 4px 6px -4px hsl(0 0% 0% / 0.4);
  --shadow-gold: 0 4px 20px -3px hsl(38 70% 55% / 0.3);
  --shadow-glow: 0 0 30px hsl(38 70% 55% / 0.2);

  --glass-bg: hsl(var(--card) / 0.55);
  --glass-border: hsl(var(--border));
  --glass-glow: 0 0 24px hsl(38 70% 55% / 0.25);
  --glass-ambient: 0 20px 60px hsl(220 20% 6% / 0.45);
  --gradient-core: linear-gradient(90deg, hsl(var(--primary)) 0%, hsl(var(--afrikoni-gold-light)) 35%, hsl(var(--accent-foreground)) 100%);

  --os-bg: hsl(var(--background));
  --os-surface-0: hsl(var(--card) / 0.78);
  --os-surface-1: hsl(var(--card) / 0.68);
  --os-surface-2: hsl(var(--card) / 0.6);
  --os-stroke: hsl(var(--border));
  --os-text-primary: hsl(var(--foreground));
  --os-text-secondary: hsl(var(--muted-foreground));
  --os-muted: hsl(var(--muted-foreground));
  --os-accent: hsl(var(--primary));
  --os-glow: 0 0 34px hsl(var(--primary) / 0.25);
}

/* ============================================================
   OS LITE MODE & PERFORMANCE OVERRIDES
   ============================================================ */
.os-lite-mode {
  --glass-bg: hsl(var(--card) / 0.95);
  --glass-border: hsl(var(--border) / 1);
  --glass-glow: none;
  --glass-ambient: none;
  --os-surface-0: hsl(var(--card));
  --os-surface-1: hsl(var(--card));
  --os-glow: none;
}

.os-lite-mode * {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

.os-reduced-motion * {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-feature-settings: "cv02", "cv03", "cv04", "cv11";
  }

  /* Premium scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-border/50 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-muted-foreground/30;
  }
}

@layer components {
  /* ============================================================
     GLASSMORPHIC CARDS
     ============================================================ */
.glass-card {
  @apply rounded-2xl border border-border/60;
  background: var(--glass-bg);
  backdrop-filter: blur(16px);
  box-shadow: var(--glass-ambient), var(--glass-glow);
}

.glass-card-elevated {
  @apply rounded-2xl border border-border/40;
  background: hsl(var(--card) / 0.8);
  backdrop-filter: blur(18px);
  box-shadow: var(--glass-ambient), 0 0 32px hsl(var(--primary) / 0.18);
}

/* ============================================================
   METRIC CARDS (Bloomberg-style)
   ============================================================ */
.metric-card {
  @apply relative p-5 rounded-2xl border border-border/60 transition-all duration-300;
  background: hsl(var(--card) / 0.92);
  box-shadow: var(--glass-ambient);
}

.metric-card:hover {
  box-shadow: var(--glass-ambient), var(--glass-glow);
  transform: translateY(-2px);
}

  .metric-card-gold {
    background: linear-gradient(135deg, hsl(var(--card-gold)) 0%, hsl(var(--card)) 100%);
    border-color: hsl(var(--primary) / 0.2);
  }

  .metric-card-success {
    background: linear-gradient(135deg, hsl(var(--card-green)) 0%, hsl(var(--card)) 100%);
    border-color: hsl(var(--success) / 0.2);
  }

  .metric-value {
    @apply text-3xl font-bold tracking-tight text-foreground;
    font-variant-numeric: tabular-nums;
  }

  .metric-label {
    @apply text-xs font-medium uppercase tracking-wider text-muted-foreground;
  }

/* ============================================================
   STATUS BADGES
   ============================================================ */
  .status-badge {
    @apply inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium;
  }

  .status-verified {
    @apply bg-success-15 text-success border border-success-20;
  }

  .status-pending {
    @apply bg-warning-15 text-warning border border-warning-20;
  }

  .status-inactive {
    background-color: hsl(var(--muted));
    color: hsl(var(--muted-foreground));
    border: 1px solid hsl(var(--border));
  }

  .status-rejected {
    @apply bg-destructive-15 text-destructive border border-destructive-20;
  }

  .status-in-progress {
    @apply bg-info-15 text-info border border-info-20;
  }

/* ============================================================
   PREMIUM CTAs
   ============================================================ */
  .btn-gold {
    @apply relative overflow-hidden font-semibold;
    background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--afrikoni-gold-dark)) 100%);
    box-shadow: var(--shadow-gold);
    transition: all 0.2s ease;
  }

  .btn-gold:hover {
    background: linear-gradient(135deg, hsl(var(--afrikoni-gold-light)) 0%, hsl(var(--primary)) 100%);
    box-shadow: var(--shadow-glow), var(--shadow-gold);
    transform: translateY(-1px);
  }

  .btn-glass {
    @apply backdrop-blur-sm border border-border/50;
    background: hsl(var(--card) / 0.5);
  }

  .btn-glass:hover {
    background: hsl(var(--card) / 0.8);
  }

/* ============================================================
   PROGRESS INDICATORS
   ============================================================ */
  .progress-gold {
    @apply h-2 rounded-full overflow-hidden;
    background: hsl(var(--muted));
  }

  .progress-gold-fill {
    @apply h-full rounded-full transition-all duration-500 ease-out;
    background: linear-gradient(90deg, hsl(var(--primary)) 0%, hsl(var(--afrikoni-gold-light)) 100%);
    box-shadow: 0 0 8px hsl(var(--primary) / 0.4);
  }

/* ============================================================
   TRADE PIPELINE STYLES
   ============================================================ */
  .pipeline-stage {
    @apply relative flex flex-col items-center;
  }

  .pipeline-stage-active {
    @apply text-primary;
  }

  .pipeline-connector {
    @apply absolute top-6 h-0.5 bg-border;
    left: 50%;
    width: 100%;
  }

  .pipeline-connector-active {
    background: linear-gradient(90deg, hsl(var(--primary)) 0%, hsl(var(--primary) / 0.3) 100%);
  }

/* ============================================================
   DENSE DATA DISPLAYS (Terminal-style)
   ============================================================ */
  .data-grid {
    @apply grid gap-px bg-border/50 rounded-lg overflow-hidden;
  }

  .data-cell {
    @apply p-3 bg-card;
  }

  .data-label {
    @apply text-[10px] font-medium uppercase tracking-wider text-muted-foreground;
  }

  .data-value {
    @apply text-sm font-semibold text-foreground tabular-nums;
  }

/* ============================================================
   COMMAND PALETTE STYLES
   ============================================================ */
  .command-palette {
    @apply rounded-xl border-0 shadow-2xl overflow-hidden;
    background: hsl(var(--card) / 0.95);
    backdrop-filter: blur(20px);
  }

  /* ============================================================
     TRADE OS CORE SURFACES + TYPOGRAPHY
     ============================================================ */
  .os-page {
    position: relative;
    isolation: isolate;
    background: radial-gradient(circle at top left, hsl(var(--primary) / 0.08), transparent 45%),
      radial-gradient(circle at 20% 20%, hsl(var(--accent-foreground) / 0.1), transparent 55%),
      linear-gradient(180deg, hsl(var(--background)) 0%, hsl(var(--background)) 100%);
  }

  .os-page::before {
    content: "";
    position: absolute;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    opacity: 0.5;
    background-image:
      linear-gradient(to right, hsl(var(--border) / 0.15) 1px, transparent 1px),
      linear-gradient(to bottom, hsl(var(--border) / 0.12) 1px, transparent 1px);
    background-size: 120px 120px;
    mask-image: radial-gradient(circle at 40% 10%, black, transparent 70%);
  }

  .os-page > * {
    position: relative;
    z-index: 1;
  }

  .os-stagger > * {
    animation: osFadeUp 0.4s ease-out;
  }

  @keyframes osFadeUp {
    from { opacity: 0; transform: translateY(8px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .os-label {
    @apply text-[11px] uppercase tracking-[0.2em];
    color: var(--os-text-secondary);
  }

  .os-title {
    @apply text-2xl md:text-3xl font-semibold;
    letter-spacing: -0.02em;
    color: var(--os-text-primary);
  }

  .os-input {
    @apply rounded-xl border focus:outline-none focus:ring-2;
    border-color: var(--os-stroke);
    background: var(--os-surface-1);
    box-shadow: inset 0 0 0 1px hsl(var(--border) / 0.2);
    color: var(--os-text-primary);
  }

  .os-input:focus {
    border-color: hsl(var(--primary) / 0.6);
    box-shadow: 0 0 0 2px hsl(var(--primary) / 0.25);
  }

  .os-input::placeholder {
    color: var(--os-muted);
  }

  .os-panel {
    @apply rounded-2xl border;
    border-color: var(--os-stroke);
    background: var(--os-surface-0);
    box-shadow: var(--shadow-md);
  }

  .os-panel-soft {
    @apply rounded-2xl border;
    border-color: hsl(var(--border) / 0.7);
    background: var(--os-surface-1);
    box-shadow: var(--shadow-sm);
  }

  .os-panel-glass {
    @apply rounded-2xl border;
    border-color: hsl(var(--border) / 0.6);
    background: hsl(var(--card) / 0.55);
    backdrop-filter: blur(18px);
    box-shadow: var(--glass-ambient), var(--os-glow);
  }

  .os-rail-glow {
    position: relative;
  }

  .os-rail-glow::after {
    content: "";
    position: absolute;
    inset: 0;
    border-radius: 24px;
    pointer-events: none;
    box-shadow: inset 0 0 0 1px hsl(var(--primary) / 0.1), 0 0 30px hsl(var(--primary) / 0.16);
    opacity: 0.7;
  }

  .os-immersive {
    @apply relative rounded-3xl;
    background:
      radial-gradient(circle at top, hsl(var(--primary) / 0.2), transparent 55%),
      linear-gradient(180deg, hsl(var(--card) / 0.55), transparent 70%);
    box-shadow: inset 0 0 0 1px hsl(var(--border) / 0.45), 0 0 40px hsl(var(--primary) / 0.12);
  }

  .os-glow-hover:hover {
    box-shadow: var(--shadow-lg), var(--os-glow);
  }

  .os-zone {
    @apply rounded-3xl border p-6;
    border-color: hsl(var(--border) / 0.7);
    background: linear-gradient(180deg, hsl(var(--card) / 0.85), hsl(var(--card) / 0.6));
    box-shadow: var(--shadow-md);
  }

  .os-zone-header {
    @apply flex items-center justify-between gap-3 mb-4;
  }

  .os-zone-title {
    @apply text-sm font-semibold tracking-wide text-[var(--os-text-primary)];
  }

  .os-kernel-core {
    @apply relative rounded-3xl border p-5 overflow-hidden;
    border-color: hsl(var(--border) / 0.7);
    background: radial-gradient(circle at top, hsl(var(--primary) / 0.18), transparent 55%),
      hsl(var(--card) / 0.7);
    box-shadow: var(--glass-ambient), var(--os-glow);
  }

  .os-kernel-orbit {
    position: absolute;
    inset: -20%;
    border-radius: 999px;
    border: 1px dashed hsl(var(--primary) / 0.25);
    animation: osOrbit 16s linear infinite;
  }

  @keyframes osOrbit {
    to { transform: rotate(360deg); }
  }

  .os-insight {
    @apply rounded-2xl border p-4;
    border-color: hsl(var(--border) / 0.6);
    background: linear-gradient(135deg, hsl(var(--primary) / 0.12), hsl(var(--card) / 0.7));
  }

  .os-critical {
    @apply rounded-xl border px-4 py-3 text-sm font-semibold;
    border-color: hsl(var(--border) / 0.6);
    background: hsl(var(--card) / 0.6);
    transition: all 0.2s ease;
  }

  .os-critical:hover {
    border-color: hsl(var(--primary) / 0.5);
    box-shadow: var(--os-glow);
    transform: translateY(-1px);
  }

  /* ============================================================
     TRADE WORKSPACE TIMELINE
     ============================================================ */
  .os-timeline {
    @apply relative grid gap-3;
  }

  .os-timeline::before {
    content: "";
    position: absolute;
    left: 20px;
    top: 12px;
    bottom: 12px;
    width: 2px;
    border-radius: 999px;
    background: linear-gradient(180deg, hsl(var(--border) / 0.6), transparent 85%);
  }

  .os-timeline-node {
    @apply relative flex items-center justify-between rounded-2xl border px-4 py-3;
    border-color: var(--os-stroke);
    background: var(--os-surface-1);
    transition: all 0.2s ease;
  }

  .os-timeline-node.is-complete {
    border-color: hsl(var(--success) / 0.45);
    background: hsl(var(--success) / 0.12);
  }

  .os-timeline-node.is-active {
    border-color: hsl(var(--primary) / 0.6);
    background: hsl(var(--primary) / 0.12);
    box-shadow: 0 0 24px hsl(var(--primary) / 0.25);
  }

  .os-timeline-node.is-next {
    border-color: hsl(var(--primary) / 0.35);
    background: hsl(var(--primary) / 0.06);
    box-shadow: 0 0 18px hsl(var(--primary) / 0.18);
  }

  .os-timeline-node.is-locked {
    opacity: 0.45;
    filter: saturate(0.3);
  }

  .os-timeline-step {
    @apply w-9 h-9 rounded-full flex items-center justify-center text-xs font-semibold;
    background: var(--os-surface-2);
    color: var(--os-text-secondary);
    box-shadow: 0 0 0 3px hsl(var(--background));
  }

  .os-timeline-step.is-active {
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
  }

  .os-timeline-step.is-complete {
    background: hsl(var(--success));
    color: hsl(var(--success-foreground));
  }

  .os-timeline-node.is-next .os-timeline-step {
    animation: osPulseGlow 1.6s ease-in-out infinite;
    background: hsl(var(--primary));
    color: hsl(var(--primary-foreground));
  }

  @keyframes osPulseGlow {
    0%, 100% { box-shadow: 0 0 0 3px hsl(var(--background)), 0 0 12px hsl(var(--primary) / 0.35); }
    50% { box-shadow: 0 0 0 3px hsl(var(--background)), 0 0 24px hsl(var(--primary) / 0.55); }
  }

  /* ============================================================
     OS CONTRAST SAFETY - Keep text readable in both modes
     ============================================================ */
  html:not(.dark) .os-page .text-white {
    color: var(--os-text-primary) !important;
  }

  html:not(.dark) .os-page .text-white\/90,
  html:not(.dark) .os-page .text-white\/80,
  html:not(.dark) .os-page .text-white\/70,
  html:not(.dark) .os-page .text-white\/60,
  html:not(.dark) .os-page .text-white\/50,
  html:not(.dark) .os-page .text-white\/40 {
    color: var(--os-text-secondary) !important;
  }

  html.dark .os-page .text-black {
    color: var(--os-text-primary) !important;
  }

  html.dark .os-page .bg-white,
  html.dark .os-page .bg-white\/98,
  html.dark .os-page .bg-white\/95,
  html.dark .os-page .bg-white\/90,
  html.dark .os-page .bg-white\/60,
  html.dark .os-page .bg-white\/50,
  html.dark .os-page .bg-white\/20,
  html.dark .os-page .bg-white\/15,
  html.dark .os-page .bg-white\/10,
  html.dark .os-page .bg-white\/5 {
    background-color: var(--os-surface-1) !important;
  }

  html:not(.dark) .os-page .border-white\/30,
  html:not(.dark) .os-page .border-white\/20,
  html:not(.dark) .os-page .border-white\/15,
  html:not(.dark) .os-page .border-white\/10,
  html:not(.dark) .os-page .border-white\/5 {
    border-color: var(--os-stroke) !important;
  }
}

@layer utilities {
  /* Animations */
  .animate-fade-in {
    animation: fadeIn 0.3s ease-out;
  }

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

  .animate-scale-in {
    animation: scaleIn 0.2s ease-out;
  }

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

  .animate-slide-in-right {
    animation: slideInRight 0.3s ease-out;
  }

@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

  .animate-pulse-glow {
    animation: pulseGlow 2s ease-in-out infinite;
  }

@keyframes pulseGlow {
  0%, 100% {
    box-shadow: 0 0 5px hsl(var(--primary) / 0.3);
  }
  50% {
    box-shadow: 0 0 20px hsl(var(--primary) / 0.5);
  }
}

/* Gradient text */
  .text-gradient-gold {
    background: linear-gradient(135deg, hsl(var(--primary)) 0%, hsl(var(--afrikoni-gold-light)) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

/* Tabular numbers for data */
  .tabular-nums {
    font-variant-numeric: tabular-nums;
  }

  /* OS utility shims */
  .bg-os-surface-0 { background: var(--os-surface-0); }
  .bg-os-surface-1 { background: var(--os-surface-1); }
  .bg-os-surface-2 { background: var(--os-surface-2); }
  .border-os-stroke { border-color: var(--os-stroke); }
  .text-os-muted { color: var(--os-muted); }
}
