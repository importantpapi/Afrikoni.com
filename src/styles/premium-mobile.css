/**
 * AFRIKONI PREMIUM MOBILE UX
 * Apple x Hermès level micro-interactions
 * 2026 OS-grade polish
 * 
 * This file enforces the "calm luxury" design principle:
 * - Every touch feels intentional
 * - No jarring animations
 * - Subtle feedback at 120-160ms
 * - Nothing overlaps accidentally
 */

/* ===================================
   GLOBAL TOUCH BEHAVIOR
   =================================== */

/* All interactive elements should feel "soft" on mobile */
@media (max-width: 768px) {

  button,
  a[role="button"],
  [role="button"],
  input[type="submit"],
  input[type="button"] {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
    user-select: none;
    transition: transform 140ms cubic-bezier(0.4, 0, 0.2, 1),
      box-shadow 140ms cubic-bezier(0.4, 0, 0.2, 1),
      background-color 140ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Active state: soft press-down feel */
  button:active:not(:disabled),
  a[role="button"]:active,
  [role="button"]:active {
    transform: scale(0.97);
    transition-duration: 80ms;
  }

  /* Disabled: reduced opacity, no interaction */
  button:disabled,
  [aria-disabled="true"] {
    opacity: 0.4;
    cursor: not-allowed;
    transform: none !important;
  }
}

/* ===================================
   NAVBAR PREMIUM EFFECTS
   =================================== */

/* Navbar glass morphism (Apple-style) */
nav[class*="fixed"][class*="top-0"] {
  backdrop-filter: blur(20px) saturate(180%);
  -webkit-backdrop-filter: blur(20px) saturate(180%);
}

/* ===================================
   SEARCH BAR LUXURY
   =================================== */

/* Search input focus ring (Hermès gold glow) */
@media (max-width: 768px) {

  input[type="text"]:focus,
  input[type="search"]:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(197, 160, 55, 0.15);
    border-color: rgba(197, 160, 55, 0.5);
    transition: box-shadow 160ms cubic-bezier(0.4, 0, 0.2, 1),
      border-color 160ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Search bar elevation on focus */
  .search-container:focus-within {
    transform: scale(1.01);
    transition: transform 160ms cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* ===================================
   BOTTOM NAV LUXURY
   =================================== */

@media (max-width: 768px) {

  /* Bottom nav blur */
  nav[class*="bottom-0"] {
    backdrop-filter: blur(20px) saturate(180%);
    -webkit-backdrop-filter: blur(20px) saturate(180%);
  }

  /* Active nav item elevation */
  nav[class*="bottom-0"] a[class*="bg-os-accent"] {
    box-shadow: 0 2px 8px rgba(197, 160, 55, 0.2);
  }

  /* Nav item press feedback */
  nav[class*="bottom-0"] a:active {
    transform: scale(0.92);
    transition: transform 100ms cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* ===================================
   CARD LUXURY INTERACTIONS
   =================================== */

/* Product/Category cards hover */
@media (min-width: 768px) {
  .group:hover [class*="group-hover"] {
    transition: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* Card press feedback on mobile */
@media (max-width: 768px) {

  a>div[class*="Card"],
  button>div[class*="Card"] {
    transition: transform 140ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  a:active>div[class*="Card"],
  button:active>div[class*="Card"] {
    transform: scale(0.98);
  }
}

/* ===================================
   FORM INPUTS (PREMIUM FEEL)
   =================================== */

@media (max-width: 768px) {

  /* All text inputs should have minimum 44px height (Apple guideline) */
  input[type="text"],
  input[type="email"],
  input[type="tel"],
  input[type="password"],
  input[type="search"],
  textarea,
  select {
    min-height: 44px;
    font-size: 16px;
    /* Prevents zoom on iOS */
  }

  /* Input focus: calm gold glow */
  input:focus,
  textarea:focus,
  select:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(197, 160, 55, 0.15);
    border-color: rgba(197, 160, 55, 0.5);
    transition: box-shadow 160ms cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* ===================================
   SCROLL BEHAVIOR (LUXURY SMOOTHNESS)
   =================================== */

/* Smooth momentum scrolling */
@media (max-width: 768px) {
  * {
    -webkit-overflow-scrolling: touch;
  }

  /* Hide scrollbars but keep functionality */
  ::-webkit-scrollbar {
    width: 0px;
    background: transparent;
  }

  /* Snap scroll for carousels */
  .snap-scroll {
    scroll-snap-type: x mandatory;
    scroll-behavior: smooth;
  }

  .snap-scroll>* {
    scroll-snap-align: center;
  }
}

/* ===================================
   MODAL/DIALOG LUXURY
   =================================== */

@media (max-width: 768px) {

  /* Modal backdrop blur */
  [role="dialog"]::backdrop,
  .modal-backdrop {
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  /* Modal slide-up animation */
  [role="dialog"] {
    animation: slideUp 280ms cubic-bezier(0.4, 0, 0.2, 1);
  }

  @keyframes slideUp {
    from {
      transform: translateY(100%);
      opacity: 0;
    }

    to {
      transform: translateY(0);
      opacity: 1;
    }
  }
}

/* ===================================
   SAFE AREAS (NOTCH SUPPORT)
   =================================== */

@supports (padding: env(safe-area-inset-bottom)) {
  .pb-safe {
    padding-bottom: calc(0.75rem + env(safe-area-inset-bottom));
  }

  .pt-safe {
    padding-top: calc(0.75rem + env(safe-area-inset-top));
  }

  /* Bottom nav safe area */
  nav[class*="bottom-0"] {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* ===================================
   EMPTY STATES (NEVER LOOK BROKEN)
   =================================== */

/* Empty product image fallback */
.product-image-empty {
  background: linear-gradient(135deg, rgba(197, 160, 55, 0.05) 0%, rgba(197, 160, 55, 0.02) 100%);
  position: relative;
  overflow: hidden;
}

.product-image-empty::before {
  content: '';
  position: absolute;
  inset: 0;
  background-image: url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZmlsdGVyIGlkPSJuIj48ZmVUdXJidWxlbmNlIHR5cGU9ImZyYWN0YWxOb2lzZSIgYmFzZUZyZXF1ZW5jeT0iLjciIG51bU9jdGF2ZXM9IjQiLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCIgZmlsdGVyPSJ1cmwoI24pIiBvcGFjaXR5PSIuNSIvPjwvc3ZnPg==');
  opacity: 0.03;
}

/* ===================================
   LOADING STATES (SKELETON UI)
   =================================== */

@media (max-width: 768px) {

  /* Skeleton shimmer effect */
  .skeleton {
    background: linear-gradient(90deg,
        rgba(197, 160, 55, 0.05) 0%,
        rgba(197, 160, 55, 0.1) 50%,
        rgba(197, 160, 55, 0.05) 100%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }

    100% {
      background-position: 200% 0;
    }
  }
}

/* ===================================
   TYPOGRAPHY LUXURY
   =================================== */

/* Prevent text size adjustment on orientation change (iOS) */
@media (max-width: 768px) {
  html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }

  /* Smooth font rendering */
  body {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
    font-family: -apple-system, BlinkMacSystemFont, 'Inter', 'Segoe UI', 'SF Pro Display', sans-serif;
  }

  /* Headings: tight tracking for luxury feel */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    letter-spacing: -0.02em;
    font-feature-settings: 'kern' 1;
  }

  /* Luxury heading sizes */
  h1 {
    font-size: 2rem;
    line-height: 1.2;
    font-weight: 700;
  }

  h2 {
    font-size: 1.5rem;
    line-height: 1.3;
    font-weight: 700;
  }

  h3 {
    font-size: 1.125rem;
    line-height: 1.4;
    font-weight: 600;
  }

  /* Body: Comfortable reading */
  p {
    font-size: 1rem;
    line-height: 1.6;
  }
}

/* ===================================
   FOCUS INDICATORS (ACCESSIBILITY)
   =================================== */

/* Custom focus ring (gold, luxury) */
*:focus-visible {
  outline: 2px solid rgba(197, 160, 55, 0.6);
  outline-offset: 2px;
  border-radius: 0.375rem;
}

/* Remove default focus for mouse users */
*:focus:not(:focus-visible) {
  outline: none;
}

/* ===================================
   PREMIUM SHADOWS
   =================================== */

.shadow-premium {
  box-shadow:
    0 1px 3px rgba(0, 0, 0, 0.04),
    0 4px 12px rgba(0, 0, 0, 0.06),
    0 16px 24px rgba(0, 0, 0, 0.08);
}

.shadow-premium-hover {
  box-shadow:
    0 4px 12px rgba(0, 0, 0, 0.06),
    0 16px 32px rgba(0, 0, 0, 0.10),
    0 24px 48px rgba(0, 0, 0, 0.12);
}

/* Gold glow for primary actions */
.shadow-gold-glow {
  box-shadow:
    0 4px 16px rgba(197, 160, 55, 0.15),
    0 8px 32px rgba(197, 160, 55, 0.10);
}

/* ===================================
   PREVENT COMMON UX BUGS
   =================================== */

@media (max-width: 768px) {

  /* Prevent double-tap zoom */
  button,
  a {
    touch-action: manipulation;
  }

  /* Prevent text selection on UI elements */
  button,
  [role="button"] {
    user-select: none;
    -webkit-user-select: none;
  }

  /* Prevent layout shift from scrollbars */
  body {
    overflow-y: scroll;
    overflow-x: hidden;
  }

  /* Fix iOS momentum scrolling bugs */
  body {
    position: relative;
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
  }
}

/* ===================================
   PRINT STYLES (HIDE NAVIGATION)
   =================================== */

@media print {

  nav,
  footer,
  .no-print {
    display: none !important;
  }
}